강의안 비밀번호 3355

토폴로지 - 위상.  네트워크의 생김새를 뜻하는말


토큰링 : IBM에서 만듦  802.5 표준

 링크로컬 ipv6주소 : 지금 사용하지는않지만 os가 자체적으로 설정한 ipv6의 주소

공인아이피로 변경하는 목적 : 1대 n의 접속을 가능하도록하기위해( IP주소의 부족). 보안상의 이유


시리얼 인터페이스 속도 t1 : 1.544mbs(24채널)  e1 2.048 (30개채널) > 이론상속도
유럽-E1사용  북미 - T1사용 (우리나라는 E1채택)

재분배시 주의점 > 매트릭값을 입력하지않으면 라우팅테이블에 올라가지 않는 경우가 있으므로 주의할것

물리적 토폴로지

룰 3-4-5  populated segment - repeator 수 - segment 수

아날로그 : amplifier (증폭기) / 디지털 : repeator (재생기)

매쉬를 구성할때 필요한 회전수  :n(n-1)/2

광케이블
유리섬유로 구성되어있으므로 깨지면 산란이일어날수있음 > 취급주의
광원으로 사용되는것 > 단거리 : led 장거리 :레이저

CSU (채널서비스 유닛) : 전용회선으로 연결되어있는 경우 신호변환기가 필요함

허브 : CD램프가 있음 (CSMA/CD)

POE (power over ethernet ) : 이더넷연결을 통해서 전력을 공급하는 방법

APIPA : DHCP 서버가 없거나 동작하지않는 경우 윈도우 기반 컴퓨터가 스스로에게 IP를 자동으로 할당하는 기능
APIPA 대역은 169.254.0.0 ~169.254.255.255 > 이 대역의 ip가 할당된것은 dhcp에 접속이 불가능하다는것

127.0.0.0 대역 > 루프백 ip

#사설 ip 대역 
A 클래스 : 10.0.0.0 ~ 10.255.255.255.
B 클래스 : 172.16.0.0 ~ 172.31.255.255.
C 클래스 : 192.168.0.0 ~ 192.168.255.255.


신호변환기 
MODEM (Analog) 
DSU : Digital service unit. 디지털데이터를 아날로그 신호로 바꾸거나 그 반대의 역할 수행
CSU(T1,E1) : channel servise unit 


정보통신의 3요소
정보원 (source) / 전송매체 (medium) / 전송목적지 (destination)

정보통신망의 구성 3요소 
1. DTE (data terminal equipment) : 데이터 처리장치
2. DCE (data communication equipment)
3.MEDIA 


명령창에서 nslookp naver.com을 했을 때 나오는 ip > l4스위치의 아이피

#스위치와 브리지의 차이점
1. 처리방식 : 스위치는 하드웨어적으로 처리, 브리지는 소프트웨어적으로 처리
(스위치는 처리절차를 칩에 넣어 두는 방식, 브리지는 프레임 처리를 소프트웨어가 수행)

2. 포트별 속도 지원 : 브리지의 포트는 모두 같은 속도를 지원함, 스위치는 서로 다른 속도를 연결가능 
ex) 스위치에는 10m / 100m 포트가 따로 있음

3. 포트수  : 스위치가 포트수가 훨신 많음

4. *스위치는 cut-throght / store-and-forward방식 사용 브리지는 오직 store-and-forward 
>스위치의 처리속도가 더 빠르다


#colision 도메인은 스위치(브리지)기준으로 나누어짐 / 브로드캐스트 도메인은 라우터를 기준으로 나누어짐

#흐름제어는 수신측에 맞춘다. 

#DNS에서 window size 512바이트 이하 > UDP사용 , 이상 > TCP사용

#mac주소 : 48bit  ip 주소 :32bit  port num :16bit



공유기는 PAT를 사용 (Port Address Translation)

PNP : 플러그앤플레이 > 꽃으면 실행된다, 컴퓨터 실행중에 주변장치를 부착해도 별다른 설정없이 작동함을 뜻함


ip v6의 자동 주소설정
상태 보존형 자동설정 : IP v4의 DHCP방식과 동일함 , 주소를 효율적으로 이용가능, 보안유지가능 , 서버에 대규모DB를 갖추어야함

비상태형 자동설정 : 자신의 인터페이스정보와 라우터에서 얻은 네트워크정보를 이용해 자체적으로 IPv6주소 생성
서버가 필요없지만 보안문제 발생가능( 권한없는 호스트의 엑세스)
ex) prefix 64 |  mac add OUI 24 |  FFFE | mac add OUA 24 

-ipv4 vs ipv6
#ipv4의 헤더 : 20- 60byte /  ipv6의 헤더 : 40byte 고정

#ip헤더에서 버전이 맞지 않으면 바로폐기

#HLEN (Header Length)에 표현된값 * 4를 하면 실제 헤더의 크기를 알수있다

#서비스타입헤더 우선순위 3/ 서비스유형 4 / none use 1
우선순위 비트는 v4에서는 사용하지않음.  서비스타입 비트의 마지막 비트는 사용되지않는다

버전 6에서는 단편화가 필요없이 확장헤더를 붙임


엑세스리스트 (ACL)

standard 와 extended로 구분

standard에서는 소스 아이피만 구분가능

엑세스리스트를 구성하는 경우 최대한 중복되지않고, 적게 구성 ( 라우터는 라우팅기능에 집중할수있도록)

ISDN, 2B+D(BRI) 23B+B(PRI) 30B+D

arp와는 다르게 rarp에는 rarp용 서버가 반드시 필요함


#NAT(network address translation)

고정 NAT : 변환이 항상 고정적 1:1 방식

동적  NAT : NAT pool 에 할당된  IP를 이용해 동적으로 변환 n : m 방식
일반적으로 가용한 공인 IP보다 호스트수가 많을 경우 사용함

PAT : 공인 IP 사용량을 줄이기위한방법
공인IP는 하나만할당하고 실제 출발지 포트를 변환하여 사용함.
포트별로 사설아이피를 할당 , 1:n 방식
ex) 공유기 , Firewall

nat 에서의 local 과 global > 일반적으로 LAN 구간은 local,  WAN 구간이 global 이 된다  

#NAT를 설정시에 기본게이트웨이를 지정해서 설정하는것이 좋다
(stub에어리어일경우 static으로 공인아이피로 연결을 추가)

#네트워크 구성시 삼각형으로 만드는 이유 : 우회경로를 만들어서 장애에 대비하기위함 (이중화)

#STDM (statistical)- 시분할 다중화 방법 

#BOD (bandwiths on demand) : 필요할때만 대역폭을 할당하는 방법
유사한 서비스 >  VOD (video on demand) : 비용을 지불하면 필요할때만 비디오서비스 제공

#전용선 (dedicated link) = leased line

#dial -up 모뎀 : 전화선을 이용한 모뎀 , 최대 속도( up to ) 56kbps, QOS없음 

전용회선 모뎀 : 최대속도 (국내) 9.6kbps > 선로가 오래되었기때문에 속도가 제대로 못나왔음
대신 QOS제공하였음  

Central office : 전화국   

서울의 국내 관문 전화국 : 구로구 ( 모든 지역에서 오는 전화는 이곳을 거친다)
         국제 관문 전화국 : 혜화 전화국 ( 국제 전화를 하는경우 이곳을 거친다)

집 전화번호 : 지역번호 - 국번호 - 가입자 전화번호로 구성
(국번호 : 전화국에 있는 PBX 교환기 번호)

t1 , e1일때는 e1이 더빠르지만 t3 e3에서는 t3가 속도가 빠름 (t3 : 45M e3 : 34M) 

*sonet/sdh 의 속도계층은 암기할것

#텔넷이나 FTP는 ID와 비밀번호가 평문형태로 보내짐 > 보안상 취약

#암호화 : 데이터를 알고리즘(키값)을 사용해서 데이터를 암호화 하고 전송한뒤, 
다시 키를 사용해 암호화된 데이터를 번역할수 있도록 하는 것

 비밀키 암호화 > 공유키 암호화(양쪽이 같은 키를 보유해야하므로)

*비콘/프로브 > 무선 공유기가 주고받는신호


----STP (spanning tree protocol)----

#-출발지와 목적지 사이에 두개이상의 길이 있는 경우 루프가 발생가능 
 > 스위치가 루프를 인지하면 자동으로 한개이상의 중복링크를 차단

#망내에있는 스위치상에서 스위치의 priority값은  32768으로 동일 > 맥주소의 값이 작은 스위치가 루트브리지가된다
먼저 priority값을 비교하고 같은경우 맥주소를 가지고 루트 브리지를 선출함

BDPU (bridge protocol data unit) > spanning tree를 구성하기 위해 브리지(스위치)간 전달되는 제어프레임
 > 프라이어리티/ 코스트/ 루트 아이디 /포트 아이디 로 구성 (루트브리지 선출시 순차적으로 사용)

#코스트는 높은 속도의 회선일수록 낮다 >  가장 낮은 코스트를 가진 스위치가 루트 브리지로 선출

#prot ID를 따질때는 루트에 연결되어있는 포트를 기준으로 함 
ex) fa 0/2 fa 0/3 으로 연결되어있는 경우 fa 0/2를 살리고 fa0/3을 막는다

#stp 과정(스위치가 3개인경우로 가정함) > sh spanning-tree 로 확인가능

1.모든 스위치(브리지)의 bridge-id(priority/ MAC주소)를 비교하여 루트 브리지를 선출함
루트브리지로 선출된 포트의 모든 포트는 designated port로 설정

2.루트 브리지에 연결되어있는 non-루트 브리지의 포트는 루트 포워딩 포트로 설정됨

3. 루트 브리지를 제외한 나머지 스위치에서 루트 포워딩 포트를 제외한 나머지 포트간의
루트코스트를 비교하여 desinated port를 선출한 뒤 나머지 포트 블록
(루트 코스트가 동일한경우 BID[bridge-ID]를 사용)

4. 루트브리지로 선출되지않은 나머지 스위치에서 루트 포워딩 포트를 제외한 나머지 포트를 블록
(장애 발생시에 사용할 대체 포트로서 설정함)

*포트 아이디로 지정 포트를 선출하는 경우에는 루트 브리지의 포트를 기준으로 선정함

#장애 발생시에 대체 포트가 살아나려면  50초[기본값] 소요 (block > 15초 > listening > 15초 > learning > 20초 > fowarding)

스위치의 priority값 > 기본 32678 + vlan 넘버  ex) vlan 1 > 32678 +1 3= 32769

----가상화----

#가상 브리지/스위치 : 처음 가상머신(vm)의 NIC가 선택될때 생성, RAM에 상주함
차이점 
가상스위치 : 데이터링크 계층에서 동작하며 노드간의 프레임전송역할
가상브리지 : 가상NIC을 네트워크와 연결함

#가상화 네트워크 접속유형
1.bridged mode : 따로 자신만의 IP를 가짐

2.NAT mode : 호스트로부터 IP주소 정보 획득, 가상화 소프트웨어가 DHCPsever로 동작
VMware, Virtulabox, KVM의 기본 네트워크 접속유형

3.host-only mode : 단일 호스트상의 VM은 상호간 그리고 호스트와 정보교환 가능
그러나 호스트 이외의 다른 노드와는 통신불가, 호스트의 물리적NIC와 통신 불가

#가상사설망의 유형
1. site to site : 본지점간통신
2. client to site  : 재택근무/출장자 - 회사 간 통신

#터널링 프로토콜
-3계층 IPSCE, 4계층 SSL
-가상사설망 VPN에서는 PPTP/L2TP를 주로 사용


----------------------------------------------------------------------------------------------------------------

고장(failure) 과 결함(fault)

고장 : 시스템이 계획대로 또는 약속대로 동작하지 못하는것
결함 : 시스템내의 하나의 부품이 오작동하는것

전원결함 

1.써지(surge) : 전압이 급상승하는경우. 장비에 충겨을 줄수있음.  대부분 네트워크 장치에는 써지 프로텍터가 달려있음

2. line noise : 다른 장치나 전자기 개입으로 전압의 크기가 유동치는것 ex) AC/DC converter 관련 noise

3. brownout : 순간적인 전압의 감소현상 ex) 집의 전등이 흐려질때

4. blackout : 전원이 완전히 나감


hot site : 기존과 동일하게 시스템을 갖추어 두고 환경적인 부분까지도 메인센터와 동일 환경을 만들어둠

---------RAID-------------------------------------------------------------------------

RAID(Redundant Array of Inexpensive Disks) : 저렴한 디스크들의 중복적 배열
공유하는 데이터와 응용프로그램에 대해 결함을 제공해주는 디스크들의 집합
RAID컨트롤러가 있어야만 작동가능

종류
1. RAID level 0 (disk striping) : 여러개의 디스크에 라운드로빈방식을 통해 데이터를 나누어서 저장하는 방식

2. RAID level 1 (disk mirroring/duplexing) 

# 미러링 : 하나의 디스크에 데이터가 쓰여질때 같은 그룹에 속한 다른 디스크에 똑같은 데이터를 저장하는 방법
	  2개의 디스크가 하나의 드라이브 컨트롤러를 공유함

# 듀플렉싱 : 각각의 디스크가 자신의 드라이브 컨트롤러를 보유

3. RAID level 3 (Parallel Transfer with Parity) : 여러개의 디스크에 데이터를 분할하여 저장하고 
별도의 디스크에 패리티를 저장하는 방식 , 데이터 무결성을 확인할 때 주로 사용
필요한 최소 디스크 개수: 3 (데이터저장용 2 , 패리티 저장용 1)

4. RAID level 5 : 패리티가 별도의 디스크가 아닌 데이터를 저장하는 디스크에 같이 저장하는 방식 

5.RAID 레벨 0+1 : 속도와 데이터의 안정성을 위해 RAID 0 과 1을 둘다 사용
먼저 디스크를 스트라이핑 하고 디스크를 미러링함 , 필요 최소 디스크 : 4개 (디스크가 6개인 경우 3개씩 스트라이핑)
사용예시 : 이미지 어플, 일반적인 파일서버

6.RAID 레벨 10 또는 1+0 : 데이터의 안정성과 속도를 위해 RAID 0 과 1을 둘다 사용
먼저 디스크를 미러링 하고 스트라이핑함, 필요 최소 디스크 : 4개 (디스크가 6개인 경우 2개씩 미러링후 3개를 스트라이핑)
사용예시 : 고성능 및 내결함성이 요구되는 DB서버

*RAID 1+0 과 0+1의 차이점 
 RAID 0+1 : 성능에 중점을 두는 경우
 RAID 1+0 : 안정성에 중점을 두는 경우 

----------------------------정보보호------------------------------------------------------------------------

NGFW : next generation fire wall

단일제어형식으로 복수의 업체/모델의 방화벽을 사용하는 이유 : 침입이 더 까다롭게 하여 보안성을 높이기 위함
00:10:11:D3:68:D3

00:60:2F:0E:9B:6C

